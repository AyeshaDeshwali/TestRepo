<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript</title>
  </head>
  <body style="margin: 100px">
    <div id="game">
      <span id="message">Welcome. Let's play game</span><br />
      <span>Current Score<span id="currentScore">10</span></span
      ><br />
      <span>High Score<span id="highestScore">0</span></span
      ><br />
      <input type="number" value="" id="num" />
      <button type="submit" onclick="check()">Check</button>
    </div>
    <script>
      const randomNumber = Math.trunc(Math.random() * 10) + 1;
      const totalAttempt = 0;
      const maxAttempt = 10;
      let highestScore = 0;
      let currentScore = 10;
      console.log(randomNumber);
      function check() {
        const diff = Math.abs(
          randomNumber - Number(document.getElementById("num").value)
        );
        if (diff === 0) {
          document.getElementById("message").textContent =
            "Congratulations!!! Magic Number is " + randomNumber;
          if (currentScore > highestScore) {
            highestScore = currentScore;
          }
          document.getElementById("highestScore").textContent = highestScore;
          document.getElementById("currentScore").textContent = currentScore;
          return;
        } else if (diff > 2) {
          document.getElementById("message").textContent =
            "You are very far from the correct number";
        } else if (diff <= 2) {
          document.getElementById("message").textContent =
            "You are very near to the number";
        }
        if (totalAttempt === maxAttempt) {
          document.getElementById("message").textContent =
            "You have lost the game";
        }
        --currentScore;
        document.getElementById("currentScore").textContent = currentScore;
      }
    </script>
  </body>
</html>
